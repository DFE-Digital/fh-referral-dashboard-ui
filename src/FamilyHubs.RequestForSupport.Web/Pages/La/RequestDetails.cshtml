@page
@model FamilyHubs.RequestForSupport.Web.Pages.La.RequestDetailsModel
@{
    string pageName = $"Declined request {Model.Referral.Id:X6}";
    ViewData["Title"] = pageName;
}

@section Back {
    <a asp-page="/La/Dashboard" class="govuk-back-link">Back</a>
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-l">@pageName</h1>
    </div>
</div>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <dl class="govuk-summary-list govuk-!-margin-bottom-6">
            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Service details
                </dt>
                <dd class="govuk-summary-list__value">
                    @* todo: we need the url (but not the description)*@
                    <a href="https://example.com/todo">@Model.Referral.ReferralServiceDto.Name</a>
                </dd>
            </div>
            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Date updated
                </dt>
                <dd class="govuk-summary-list__value">
                    @Model.Referral.LastModified?.ToString("dd MMM yyyyy")
                </dd>
            </div>
            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Date sent
                </dt>
                <dd class="govuk-summary-list__value">
                    @Model.Referral.Created?.ToString("dd MMM yyyyy")
                </dd>
            </div>
            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Status
                </dt>
                <dd class="govuk-summary-list__value">
                    <partial name="Shared/_laConnectionStatus" for="@Model.Referral"/>
                </dd>
            </div>
        </dl>
    </div>
</div>

<div class="govuk-grid-row govuk-!-margin-top-2">
    <div class="govuk-grid-column-two-thirds">
        <h2 class="govuk-heading-m">Reason for the connection request</h2>
        <p>@Model.Referral.ReasonForSupport</p>
    </div>
</div>

<partial name="Shared/_RecipientContactDetails" for="@Model.Referral.RecipientDto" />

<div class="govuk-grid-row govuk-!-margin-top-2">
    <div class="govuk-grid-column-two-thirds">
        <h2 class="govuk-heading-m">How the service can engage with Jerry Yates</h2>
        <p>@Model.Referral.EngageWithFamily</p>
    </div>
</div>
